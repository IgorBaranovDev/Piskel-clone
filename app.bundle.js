!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{constructor(e,t=1){this.sizeCanvas=e||"32x32",this.frames=t}size(){const e=document.querySelector(".size-canvas"),t=document.querySelector(".position-cursor");e.innerHTML=`[${this.sizeCanvas}]`,document.addEventListener("mousemove",e=>{"main-canvas"===e.target.id?t.innerHTML=`${e.layerX}:${e.layerY}`:"main-canvas"!==e.target.id&&(t.innerHTML="")})}}var o={objFramesWithImg:{}};const l={},s=document.getElementById("201").getContext("2d");l[201]=s,console.log(l);var c={objFramesWithDataImg:l};var a={stateOFcanvas:{}};class i{constructor(e,t){this.Width=e,this.Height=t}pensilDraw(){const e=document.getElementById("main-canvas"),t=e.getContext("2d"),n=document.getElementById("currentColor"),r=document.querySelector(".tools-changes"),l=document.querySelector(".frame-active").children[1].getContext("2d");e.width=640,e.height=640;const s=this.Width,i=this.Height,d=Math.floor(e.width/this.Width),m=[];let u=!1,h=null;const g=function(){const e=l.getImageData(0,0,1,1).data;console.log(e);const t=e[0],n=e[1],r=e[2];return"#"+(16777216+(t<<16)+(n<<8)+r).toString(16).substring(1)}();console.log(g);for(let r=0;r<e.width;r+=s)for(let o=0;o<e.height;o+=i){const e={top:r,left:o,solid:!1,fill(e){this.solid=e,t.fillStyle=e?g:n.value,t.fillRect(this.top,this.left,s,i)}};m.push(e),e.fill(!0)}function f(e,t){const n=Math.floor(e/i)*d,r=Math.floor(t/s);return m[n+r]}function y(e,t,n){const r=f(e,t);r.solid!==n&&r.fill(n)}function v(e){y(e.layerX,e.layerY,u)}function E(t){u=!f(t.layerX,t.layerY).solid,y(t.layerX,t.layerY,u),e.addEventListener("mousemove",v,!1)}function p(){e.removeEventListener("mousemove",v);const n=document.querySelector(".frame-active"),r=document.getElementById("main-canvas"),l=document.getElementById(n.children[1].id);l.getContext("2d").drawImage(r,0,0,150,150),h=t.getImageData(0,0,640,640);const s=l.id;o[s]=r,c[s]=h,a.state=h,console.log(o)}r.addEventListener("click",()=>{e.removeEventListener("mousedown",E,!1),e.removeEventListener("mouseup",p,!1)}),document.addEventListener("keydown",t=>{console.log(t.key),"p"!==t.key&&(e.removeEventListener("mousedown",E,!1),e.removeEventListener("mouseup",p,!1))}),e.addEventListener("mousedown",E,!1),e.addEventListener("mouseup",p,!1)}}function d(){const e=document.getElementById("pen-tool"),t=document.getElementById("paint-bucket"),n=document.getElementById("eraser-tool"),r=document.getElementById("rectangle-tool"),o=document.getElementById("paint-roller"),l=document.getElementById("color-picker"),s=document.getElementById("move-tool"),c=document.getElementById("circle-tool"),a=[];a.push(e,t,n,r),a.push(o,l,s,c),a.forEach(e=>{e.style.borderColor="#cbcbcb"})}function m(){const e=document.getElementById("main-canvas"),t=e.getContext("2d"),n=document.querySelector(".select-color"),r=document.querySelector(".tools-changes");let o=null;function l(){t.fillStyle=n.value,t.fillRect(0,0,640,640),e.removeEventListener("click",l);const r=document.getElementById("main-canvas"),s=document.querySelector(".frame-active"),i=document.getElementById(s.children[1].id),d=i.getContext("2d"),m=i.id;return d.drawImage(r,0,0,150,150),o=t.getImageData(0,0,640,640),c[m]=o,a.state=o,c}e.addEventListener("click",l),r.addEventListener("click",()=>{e.removeEventListener("click",l)})}function u(){const e=document.getElementById("main-canvas"),t=e.getContext("2d"),n=document.getElementById("currentColor"),r=document.querySelector(".tools-changes");function o(e){const r=t.getImageData(e.layerX,e.layerY,1,1).data;console.log(r);const o=r[0],l=r[1],s=r[2],c="#"+(16777216+(o<<16)+(l<<8)+s).toString(16).substring(1);n.value=c}e.addEventListener("click",o),r.addEventListener("click",()=>{e.removeEventListener("click",o)})}function h(e,t){const n=document.getElementById("paint-roller"),r=document.getElementById("pen-tool"),o=document.getElementById("color-picker");document.addEventListener("keydown",l=>{if("a"===l.key)d(),n.style.borderColor="#000000",m();else if("p"===l.key){d(),r.style.borderColor="#000000",new i(e,t).pensilDraw()}else"o"===l.key&&(d(),o.style.borderColor="#000000",u())})}class g{constructor(e){this.frames=e}positionCursorAndAmountFrames(){document.querySelector(".amount-frames").innerHTML=`${this.frames}/${this.frames}`}}!function(){const e=document.getElementById("main-canvas").getContext("2d");e.fillStyle="#8c78c3",e.fillRect(0,0,640,640);const t=document.querySelector(".canvasFrame").getContext("2d");t.fillStyle="#8c78c3",t.fillRect(0,0,150,150);const n=document.querySelector(".canvas-animation").getContext("2d");n.fillStyle="#8c78c3",n.fillRect(0,0,260,260)}(),(new r).size();const f=new class{constructor(){this.listFrames=document.querySelector(".list-frames"),this.firstFrame=document.getElementById("101"),this.btnAddFrames=document.querySelector(".add-frame"),this.arrFrame=[],this.arrFrame.push(this.firstFrame),this.btnAddFrames.setAttribute("id","addFrame"),this.amountFrames=this.listFrames.children.length,this.canvas=document.getElementById("main-canvas"),this.context=this.canvas.getContext("2d")}selectFrame(){let e=null;this.listFrames.addEventListener("click",t=>{console.log("RUN selectFrame()"),console.log(c);const n=document.querySelector(".list-frames");e=[t.path[1]];for(let e=0;e<n.children.length;e+=1)this.listFrames.children[e].children[0].setAttribute("class","frame");e[0].setAttribute("class","frame-active");const r=document.querySelector(".frame-active").children[1].id,o=document.getElementById("main-canvas").getContext("2d"),l=function(e,t){let n=null;return Object.keys(e).forEach(r=>{const o=e[r];r===t&&(n=o)}),n}(c,r);o.putImageData(l,0,0)})}watchForFrames(){console.log("RUN watchForFrames()");const e=this.listFrames.children.length,t=this.listFrames.children[e-1].children[0];t.setAttribute("class","frame-active");for(let t=0;t<e-1;t+=1)this.listFrames.children[t].children[0].setAttribute("class","frame");for(let t=0;t<e;t+=1)this.listFrames.children[t].setAttribute("id",t),this.listFrames.children[t].children[0].children[0].innerHTML=[t+1];return console.log(o),new g(e).positionCursorAndAmountFrames(),t}addFrames(){this.btnAddFrames.addEventListener("click",()=>{console.log("ADD NEW FRAME>>>>>>");const e=document.createElement("li"),t=document.createElement("div"),n=document.createElement("span"),r=document.createElement("canvas"),l=document.createElement("button"),s=document.createElement("i"),c=document.createElement("button"),a=document.createElement("i"),i=document.createElement("button"),d=document.createElement("i");this.arrFrame.push(e),e.setAttribute("id",this.arrFrame.length-1),this.listFrames.appendChild(e),t.setAttribute("class","frame"),t.setAttribute("id",this.arrFrame.length+100),t.setAttribute("class","frame-active"),e.appendChild(t),n.setAttribute("class","number-frame"),n.innerHTML=this.arrFrame.length,t.appendChild(n),t.appendChild(r),r.setAttribute("class","canvasFrame"),r.setAttribute("id",this.arrFrame.length+200),r.setAttribute("width",150),r.setAttribute("height",150),r.getContext("2d").fillStyle="#8c78c3",r.getContext("2d").fillRect(0,0,260,260),l.setAttribute("class","dell-frame button-frame"),l.setAttribute("id",this.arrFrame.length),s.setAttribute("class","far fa-trash-alt"),l.appendChild(s),t.appendChild(l),c.setAttribute("class","copy-frame button-frame"),c.setAttribute("id",this.arrFrame.length),a.setAttribute("class","far fa-clone"),c.appendChild(a),t.appendChild(c),i.setAttribute("class","move-frame button-frame"),i.setAttribute("id",this.arrFrame.length),d.setAttribute("class","fas fa-arrows-alt"),i.appendChild(d),t.appendChild(i),this.watchForFrames(),this.context.fillStyle="#8c78c3",this.context.fillRect(0,0,640,640),console.log(o)})}dellFrame(){document.addEventListener("click",e=>{console.log("RUN DELL FRAME");const t=this.listFrames.children.length;if("dell-frame button-frame"===e.target.className&&t>1){const t=e.path[2];console.log(e.path[1].children[1].id);const n=e.path[1].children[1].id;delete o[n],console.log(o),this.listFrames.removeChild(t),this.watchForFrames()}else if("far fa-trash-alt"===e.target.className&&t>1){const t=e.path[3];this.listFrames.removeChild(t),this.watchForFrames()}})}};f.selectFrame(),f.addFrames(),f.dellFrame(),f.watchForFrames(),function(){const e=document.getElementById("replaseColor"),t=document.getElementById("currentColor"),n=document.getElementById("prevColor");function r(){const e=t.value,r=n.value;t.value=r,localStorage.setItem("currentColor",r),n.value=e,localStorage.setItem("prevColor",e)}localStorage.setItem("currentColor",t.value),localStorage.setItem("prevColor",n.value),document.addEventListener("keydown",e=>{"x"===e.key&&r()}),e.addEventListener("click",r)}(),function(){const e=document.querySelector(".resize-canvas"),t=document.querySelector(".tools-changes"),n=document.getElementById("eraser-tool"),o=document.getElementById("paint-roller"),l=document.getElementById("resize32"),s=document.getElementById("pen-tool"),c=document.getElementById("color-picker");function a(t){if(e.removeEventListener("click",a),"resize32"===t.target.id){console.log("selekt 32x32 size");const e=t.target;s.style.borderColor="#000000",e.style.borderColor="#000000",h(20,20),new r("32x32").size()}else if("resize64"===t.target.id){console.log("selekt 64x64 size");const e=t.target;s.style.borderColor="#000000",e.style.borderColor="#000000",h(10,10),new r("64x64").size()}else if("resize128"===t.target.id){const e=t.target;s.style.borderColor="#000000",e.style.borderColor="#000000",h(5,5),new r("128x128").size()}}!function(){const e=document.getElementById("full-screan-canvas"),t=document.getElementById("canvas-play-result");function n(){document.mozFullScreen||document.webkitFullScreen?document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}document.addEventListener("keydown",e=>{console.log(e.key),e.altKey&&"p"===e.key&&n()},!1),e.addEventListener("click",()=>{n()})}(),e.addEventListener("click",a),t.addEventListener("click",function(t){e.removeEventListener("click",a),h(20,20),l.style.borderColor="#000000","fas fa-paint-roller"===t.target.className||"paint-roller"===t.target.id?(d(),o.style.borderColor="#000000",m()):"fas fa-pen"===t.target.className||"pen-tool"===t.target.id?(d(),s.style.borderColor="#000000",console.log("32x32"),new i(20,20).pensilDraw()):"fas fa-eraser"===t.target.className||"eraser-tool"===t.target.id?(d(),n.style.borderColor="#000000",function(){const e=document.getElementById("eraser-tool"),t=document.getElementById("main-canvas");e.addEventListener("click",function(){t.addEventListener("mousedown",function(e){const t=e.layerX,n=e.layerY;console.log(t,n)},!1)})}()):"fas fa-eye-dropper"!==t.target.className&&"color-picker"!==t.target.id||(console.log("start Color-PICKER"),d(),c.style.borderColor="#000000",u())})}()}]);
//# sourceMappingURL=app.bundle.js.map